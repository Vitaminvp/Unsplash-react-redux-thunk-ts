(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),u=n(25),o=n.n(u),i=(n(55),n(6)),s=n(7),l=n(9),p=n(8),m=n(10),h=(n(56),n(23)),f=(n(57),n(58),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.url,n=(e.likes,e.link,e.description),a=e.className,r=e.height,u=e.id,o={height:"".concat(r,"px")};return c.a.createElement("article",{className:a},c.a.createElement("a",{className:"title",href:"/image/".concat(u),style:o},n),c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:t,alt:""})))}}]),t}(c.a.Component)),d=n(1),b=n.n(d),v=n(3),E=n(4),I=n(20),g=n.n(I),O={baseURL:"https://api.unsplash.com",baseURLId:"https://source.unsplash.com/",baseURLId2:" http://unplash.com/",clientId:"995142b5e2f546f4eac828d832606dfba0beaef27d62d77a1ff8cce9ba2bacac",secretKey:"2ba48f233f891ebb88bc9ac2b9387c2162785b57dc9ffc741bb2d518ca59c948",oAuthToken:"https://unsplash.com/oauth/token",oAuth:"https://unsplash.com/oauth/authorize",localAuth:"http://localhost:3000/auth",redirectUri:"",oAuthAll:"https://unsplash.com/oauth/authorize?client_id=995142b5e2f546f4eac828d832606dfba0beaef27d62d77a1ff8cce9ba2bacac&redirect_uri=http://localhost:3000/auth&response_type=code&scope=public",proxy:"https://crossorigin.me/"},y=n(42),j=n.n(y),k=g.a.create({baseURL:O.baseURL,headers:{Authorization:"Client-ID ".concat(O.clientId)}}),C=(g.a.create({baseURL:O.baseURLId2,headers:{Authorization:"Client-ID ".concat(O.clientId)}}),function(){var e=Object(E.a)(b.a.mark(function e(t,n){var a,r,c,u,o,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={params:{query:t,page:n}},e.next=3,k.get("/search/photos",a);case 3:return r=e.sent,c=r.data,u=c.total,o=c.total_pages,i=c.results,e.abrupt("return",{total:u,totalPages:o,items:i});case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),N=new j.a({applicationId:"".concat(O.clientId),secret:"".concat(O.secretKey)}),_=function(){var e=Object(E.a)(b.a.mark(function e(t){var n,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.photos.getPhoto(t,1920,1080,[0,0,1920,1080]);case 2:return n=e.sent,a=n.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(E.a)(b.a.mark(function e(t){var n,a,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{client_id:O.clientId,client_secret:O.secretKey,redirect_uri:O.localAuth,code:t,grant_type:"authorization_code"}},a=g.a.create(n),e.next=4,a.post(O.oAuthToken);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();!function(e){e.FETCH="@unsplash/fetch",e.FILTER="@unsplash/filter",e.SUBMIT="@unsplash/submit",e.IMAGE="@image/fetsh"}(a||(a={}));var x,A=n(15),T=n(44),S=(n(99),n(19)),P=n.n(S),U=function(e){var t=e.children,n=e.classNames,a=Object(T.a)(e,["children","classNames"]),r=P()("btn",n);return c.a.createElement("button",Object.assign({className:r},a),c.a.createElement("span",null,t))},R=n(27);n(100);!function(e){e.TEXT="text",e.RADIO="radio",e.NUMBER="number",e.PASSWORD="password",e.PHONE="phone"}(x||(x={}));var F,L=function(e){var t=e.name,n=e.label,a=e.type;return r.createElement("div",{className:"input__native-group"},r.createElement("input",{name:t,type:a,className:"input__native-input",autoComplete:"off",onFocus:function(e){return e.currentTarget.value=""}}),r.createElement("label",{className:"input__native-label"},n),r.createElement("span",{className:"input__native-highlight"},"\xa0"),r.createElement("span",{className:"input__native-bar"},"\xa0"))},D=(n(101),n(45)),M=n.n(D),B=n(46),K=n.n(B),z=n(47),H=n.n(z),G=(n(102),function(e){var t=e.name,n=e.label,a=e.type,c=e.id,u=e.defaultChecked,o=P()("input__native-group","input__native-radio","input__native-radio-inline");return r.createElement("div",{className:o},r.createElement("input",{id:c,type:a,name:t,defaultChecked:u}),r.createElement("label",{htmlFor:c},n))});!function(e){e.ASC="asc",e.DESC="desc"}(F||(F={}));var X,J=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={searchInput:"",filterInput:"",radioInput:""},n.onFormChange=function(e){var t=n.props.onChange,a=e.target,r="radioInput"===a.name?a.id:a.value;n.setState(function(e){return Object(v.a)({},e,Object(R.a)({},a.name,r))},function(){t(n.state.filterInput,n.state.radioInput)})},n.onSubmit=function(e){e.preventDefault();var t=n.state.searchInput;n.props.searchInput!==t&&n.props.onSubmit(t,1)},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.searchInput,n=e.radioInput;t||this.props.onSubmit("cars",1),this.setState(function(e){return Object(v.a)({},e,{radioInput:n})})}},{key:"render",value:function(){var e=P()("search-form","native-form");return r.createElement("form",{onSubmit:this.onSubmit,className:e,onChange:this.onFormChange},r.createElement("div",{className:"search"},r.createElement(L,{name:"searchInput",type:x.TEXT,label:"Search"}),r.createElement(U,{type:Z.SUBMIT,classNames:"btn-search"}," ",r.createElement("img",{src:M.a,alt:"Search",className:"icon-search"}))),r.createElement(L,{name:"filterInput",type:x.TEXT,label:"Filter"}),r.createElement("div",{className:"search"},r.createElement(G,{id:"asc",name:"radioInput",defaultChecked:this.props.radioInput===F.ASC,type:x.RADIO,label:r.createElement("img",{src:K.a})}),r.createElement(G,{id:"desc",name:"radioInput",defaultChecked:this.props.radioInput===F.DESC,type:x.RADIO,label:r.createElement("img",{src:H.a})})))}}]),t}(r.Component),q=Object(A.b)(function(e){return{searchInput:e.unsplash.searchInput,radioInput:e.unsplash.radioInput}},function(e){return{onSubmit:function(t,n){var r;e((r={searchInput:t,currentPage:n},function(){var e=Object(E.a)(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(r.searchInput,r.currentPage);case 2:n=e.sent,t({type:a.SUBMIT,payload:Object(v.a)({},n,{searchInput:r.searchInput,currentPage:r.currentPage})});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))},onChange:function(t,n){var r;e((r={filterInput:t,radioInput:n},function(e){e({type:a.FILTER,payload:r})}))}}})(J),W=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).loadImages=function(){var e=n.props.currentPage+1;n.props.onItemsAdded(n.props.searchInput,e)},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleSortAndFilter",value:function(){var e=this.props,t=e.items,n=e.filterInput,a=e.radioInput,r=Object(h.a)(t).filter(function(e){var t=new RegExp(n,"gi");return e.alt_description.match(t)}),c=function(e,t){return e.alt_description>t.alt_description?1:-1},u={asc:function(e,t){return c(e,t)},desc:function(e,t){return c(t,e)}};return r.sort(function(e,t){return u[a](e,t)})}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.total;return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.Suspense,{fallback:c.a.createElement("div",null,"Loading...")},c.a.createElement("div",{className:"nav__container"},c.a.createElement(q,{className:"nav__search-form"})),c.a.createElement("div",{className:"grid"},this.handleSortAndFilter().map(function(e){var t=e.alt_description,n=e.urls,a=e.likes,r=e.id;return c.a.createElement(f,{className:"grid__item",key:r,id:r,url:n.small,description:t,likes:a})}))),t&&t.length>0&&n>t.length?c.a.createElement(U,{className:"native-button",type:Z.BUTTON,onClick:this.loadImages},"Show more ",n?"(".concat(t.length," of ").concat(n,")"):""):null)}}]),t}(c.a.PureComponent),Y=Object(A.b)(function(e){return{items:e.unsplash.items,total:e.unsplash.total,searchInput:e.unsplash.searchInput,filterInput:e.unsplash.filterInput,currentPage:e.unsplash.currentPage,radioInput:e.unsplash.radioInput}},function(e){return{onItemsAdded:function(t,n){var r;e((r={searchInput:t,currentPage:n},function(){var e=Object(E.a)(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(r.searchInput,r.currentPage);case 2:n=e.sent,t({type:a.FETCH,payload:Object(v.a)({},n,{searchInput:r.searchInput,currentPage:r.currentPage})});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))}}})(W),Q=(n(103),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoad(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.item,t=e.alt_description,n=e.user,a=e.urls;return c.a.createElement(r.Suspense,{fallback:c.a.createElement("div",null,"Loading...")},c.a.createElement("article",null,c.a.createElement("div",{className:"info"},c.a.createElement("h2",null,name),c.a.createElement("h4",null,t),c.a.createElement("i",null,n?n.name:null),c.a.createElement("img",{src:a?a.regular:null,alt:""}))))}}]),t}(c.a.Component)),V=Object(A.b)(function(e){return{item:e.unsplash.item}},function(e){return{onLoad:function(t){var n;e((n={imageId:t},function(){var e=Object(E.a)(b.a.mark(function e(t){var r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(n.imageId);case 2:r=e.sent,t({type:a.IMAGE,payload:Object(v.a)({},r)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))}}})(Q);!function(e){e.TOKEN="@auth/token"}(X||(X={}));n(104);var Z,$=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=Object(E.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="".concat(O.oAuthAll);case 1:case"end":return e.stop()}},e)})),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.search,t=new URLSearchParams(e).get("code");t&&this.props.set_Token(t)}},{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,n=e.token;return c.a.createElement(c.a.Fragment,null,t?c.a.createElement("div",null,c.a.createElement("h2",{className:"textCenter"},"You are logged"),c.a.createElement("h3",null,"Token: ",n)):c.a.createElement(U,{className:"native-button",type:Z.BUTTON,onClick:this.handleClick},"LogIn"))}}]),t}(c.a.Component),ee=Object(A.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,token:e.auth.token}},function(e){return{set_Token:function(t){return e(function(e){return function(){var t=Object(E.a)(b.a.mark(function t(n){var a;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:a=t.sent,n((r=a,{type:X.TOKEN,payload:r}));case 4:case"end":return t.stop()}var r},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}}})($),te=(n(105),function(e){var t=e.children;return c.a.createElement("nav",{className:"nav"},c.a.createElement("ul",{className:"nav-menu"},c.a.Children.map(t,function(e){return c.a.createElement("li",{key:e.props.children},c.a.cloneElement(e))})))}),ne=n(11),ae=n(28);!function(e){e.SUBMIT="submit",e.BUTTON="button"}(Z||(Z={}));var re=function(){return c.a.createElement("div",{className:"notfound"},c.a.createElement("h2",null,"Not Found"))},ce=[{title:"home",path:"/",exact:!0,Component:Y},{title:"about",exact:!1,path:"/about",Component:function(){return c.a.createElement("h1",null,"Some text")}},{title:"auth",exact:!1,path:"/auth",Component:function(e){return c.a.createElement(ee,e)}},{path:"/image/:id",exact:!1,Component:function(e){return c.a.createElement(V,e)}},{title:"Contacts",exact:!1,path:"/contacts",Component:function(){return c.a.createElement("h1",null,"Contacts component")}}],ue=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"app-wrapper"},c.a.createElement(te,null,ce.map(function(e,t){return c.a.createElement(ae.b,{exact:!0,key:t,to:e.path},e.title)})),c.a.createElement(ne.c,null,ce.map(function(e){var t=e.path,n=e.exact,a=e.Component;e.title;return c.a.createElement(ne.a,{key:t,path:t,exact:n,render:function(e){return c.a.createElement(a,e)}})}),c.a.createElement(ne.a,{component:re})))}}]),t}(r.Component),oe=n(17),ie={items:[],item:{},total:0,totalPages:0,currentPage:0,searchInput:"",filterInput:"",radioInput:F.ASC},se={isAuthenticated:!1,token:""},le=Object(oe.c)({unsplash:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SUBMIT:return Object(v.a)({},e,t.payload);case a.FETCH:var n=[].concat(Object(h.a)(e.items),Object(h.a)(t.payload.items));return Object(v.a)({},e,t.payload,{items:n});case a.FILTER:return Object(v.a)({},e,t.payload);case a.IMAGE:return Object(v.a)({},e,{item:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.TOKEN:var n=t.payload.access_token;return Object(v.a)({},e,{token:n,isAuthenticated:!0});default:return e}}}),pe=n(49),me=Object(oe.e)(le,Object(oe.d)(Object(oe.a)(pe.a)));o.a.render(c.a.createElement(A.a,{store:me},c.a.createElement(ae.a,null,c.a.createElement(ue,null))),document.getElementById("root"))},45:function(e,t,n){e.exports=n.p+"static/media/search-img.0e5b33d6.png"},46:function(e,t,n){e.exports=n.p+"static/media/sort-amount-asc.3e640fee.svg"},47:function(e,t,n){e.exports=n.p+"static/media/sort-amount-desc.19227a1e.svg"},50:function(e,t,n){e.exports=n(111)},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},99:function(e,t,n){}},[[50,1,2]]]);
//# sourceMappingURL=main.30f88a45.chunk.js.map